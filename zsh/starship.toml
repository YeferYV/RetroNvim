"$schema" = 'https://starship.rs/config-schema.json'

format = "($battery)($sudo)($username)($custom)($git_branch)($git_status)($cmd_duration)($status)($character)"
add_newline = false
command_timeout = 60000

[custom.inside_symlink]
when =    """ test "${PWD:A}" != "$PWD"  """
command = """ echo ${PWD/$HOME/\\~} """
format =  """[$output](bold fg:#5555cc) """

[custom.outside_git]
when =    """ ! git rev-parse --is-inside-work-tree && test "$HOME" != "$PWD" """
command = """ echo "${PWD/$HOME/~}" """
format =  """[$output](bold fg:#5555cc) """

[custom.inside_git]
when = """ git rev-parse --is-inside-work-tree && test "${PWD:A}" = "$PWD" """
command = """
    GIT_ROOT=$(git rev-parse --show-toplevel)
    REPO_NAME=${GIT_ROOT:t}
    echo "$REPO_NAME${PWD#$GIT_ROOT}"
"""
format =  """[$output](bold fg:#5555cc) """

[cmd_duration]
min_time = 60000

[character] # The name of the module we are configuring is "character"
# success_symbol = "[󰞷 ](bold green)" # zsh.exe's vim-mode crashes on long lines due to `󰞷` (is not unicode) inside msys2
success_symbol = "[ ](bold green)"
error_symbol = "[ ](bold red)"
vimcmd_symbol =	"[ ](bold green)"
vimcmd_replace_one_symbol =	"[ ](bold purple)"
vimcmd_replace_symbol =	"[ ](bold purple)"
vimcmd_visual_symbol =	"[ ](bold yellow)"
format = "$symbol"
